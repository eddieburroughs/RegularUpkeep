# RegularUpkeep Release Notes & Change Control System

> **Version**: 1.0
> **Last Updated**: 2025-12-24
> **Owner**: Product Operations
> **Audience**: Product, Engineering, Support, Documentation

---

## Table of Contents

1. [Release Notes Template](#release-notes-template)
2. [Change Log Taxonomy](#change-log-taxonomy)
3. [KB Update Workflow](#kb-update-workflow)
4. [Versioning Rules](#versioning-rules)
5. [Doc Diff Checklist (Pre-Release)](#doc-diff-checklist-pre-release)
6. [Chatbot Regression Checklist](#chatbot-regression-checklist)
7. [Sample Release Notes](#sample-release-notes)
8. [JSON Automation Objects](#json-automation-objects)

---

## Release Notes Template

Use this template for all product releases:

```markdown
# RegularUpkeep Release Notes

## Version [X.Y.Z] â€” [YYYY-MM-DD]

**Release Type**: [Major | Minor | Patch | Hotfix]
**Environment**: [Production | Staging | Beta]
**Deployment Time**: [HH:MM UTC]

---

### Summary

[2-3 sentence summary of the release. What's the headline? Who benefits?]

---

### Added

- **[Feature Name]**: [Description of new feature]
  - *Affects*: [Homeowner | Provider | Handyman | Admin | All]
  - *Docs*: [Link to updated handbook section]
  - *KB Update*: [Yes/No â€” Intent IDs if Yes]

### Changed

- **[Feature Name]**: [Description of change]
  - *Before*: [Previous behavior]
  - *After*: [New behavior]
  - *Migration*: [Any user action required?]

### Fixed

- **[Bug ID]**: [Description of fix]
  - *Error Code*: [RU-XXX-XXX if applicable]
  - *Reported By*: [User | Support | Engineering | Automated]

### Deprecated

- **[Feature Name]**: [What's being phased out]
  - *Removal Date*: [Target date]
  - *Alternative*: [What to use instead]

### Removed

- **[Feature Name]**: [What was removed]
  - *Reason*: [Why it was removed]
  - *Data Impact*: [Any data migration/loss?]

### Security

- **[CVE/Issue ID]**: [Description without sensitive details]
  - *Severity*: [Critical | High | Medium | Low]
  - *Action Required*: [User action if any]

---

### Breaking Changes

[List any changes that require user action or may disrupt existing workflows]

- [ ] [Change 1]
- [ ] [Change 2]

### Known Issues

| Issue | Workaround | Fix ETA |
|-------|------------|---------|
| [Description] | [Temporary solution] | [Date] |

---

### Documentation Updates

| Document | Section | Change Type |
|----------|---------|-------------|
| [handbook-name.md] | [Section] | [Added/Updated/Removed] |

### Chatbot Updates

| Intent ID | Change | Test Status |
|-----------|--------|-------------|
| [intent_id] | [Added/Modified/Removed] | [Pass/Fail/Pending] |

---

### Rollback Plan

**Rollback Command**: `./scripts/rollback.sh`
**Rollback Window**: [X hours]
**Rollback Criteria**: [When to trigger rollback]

---

### Stakeholder Sign-Off

| Role | Name | Approved | Date |
|------|------|----------|------|
| Engineering Lead | [Name] | â˜ | |
| Product Manager | [Name] | â˜ | |
| QA Lead | [Name] | â˜ | |
| Support Lead | [Name] | â˜ | |

---

*Generated by: [Author]*
*Review PR: [Link]*
*Deploy Ticket: [Link]*
```

---

## Change Log Taxonomy

### Category Definitions

| Category | Definition | Examples | Color Code |
|----------|------------|----------|------------|
| **Added** | New features, capabilities, or content | New AI feature, new page, new API endpoint | ðŸŸ¢ Green |
| **Changed** | Modifications to existing features | UI redesign, workflow change, pricing update | ðŸŸ¡ Yellow |
| **Fixed** | Bug fixes and corrections | Error resolution, performance fix, data fix | ðŸ”µ Blue |
| **Deprecated** | Features marked for future removal | Old API version, legacy feature | ðŸŸ  Orange |
| **Removed** | Features or content that was deleted | Discontinued feature, removed page | ðŸ”´ Red |
| **Security** | Security-related updates | Vulnerability patch, auth improvement | ðŸŸ£ Purple |

### Tagging Guidelines

Each change entry should include:

```
[CATEGORY] [COMPONENT] [SCOPE]: Description

Examples:
[Added] [Booking] [Homeowner]: AI-powered service request intake
[Changed] [Pricing] [All]: Updated diagnostic fees for HVAC category
[Fixed] [Auth] [Provider]: Session timeout not refreshing correctly
[Deprecated] [API] [Integration]: v1 webhook endpoints
[Removed] [UI] [Admin]: Legacy dashboard view
[Security] [Auth] [All]: Patched session fixation vulnerability
```

### Component Tags

| Component | Scope |
|-----------|-------|
| `Auth` | Login, registration, sessions, permissions |
| `Booking` | Service requests, scheduling, estimates |
| `Payment` | Stripe, invoices, refunds, payouts |
| `Property` | Property setup, systems, documents |
| `Messaging` | Chat, notifications, email, SMS |
| `AI` | AI features, ML models, automation |
| `Admin` | Admin dashboard, config, user management |
| `API` | API endpoints, webhooks, integrations |
| `UI` | Interface changes, design updates |
| `Docs` | Documentation, handbooks, guides |
| `Chatbot` | KB, intents, responses |

### Scope Tags

| Scope | Who's Affected |
|-------|----------------|
| `Homeowner` | Homeowner users only |
| `Provider` | Service provider companies |
| `Handyman` | Individual contractors |
| `Admin` | Platform administrators |
| `All` | All user types |
| `Internal` | Engineering/support only |
| `Integration` | Third-party integrations |

---

## KB Update Workflow

### When to Update Documentation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FEATURE CHANGE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Does it affect user flow?   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚               â”‚
                   YES              NO
                    â”‚               â”‚
                    â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Update Handbook     â”‚    â”‚ Update CLAUDE.md   â”‚
    â”‚   + Chatbot KB        â”‚    â”‚ (internal only)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Which roles are affected?   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼           â–¼           â–¼           â–¼
   Homeowner    Provider    Handyman     Admin
        â”‚           â”‚           â”‚           â”‚
        â–¼           â–¼           â–¼           â–¼
   Update:     Update:     Update:     Update:
   - homeowner - provider  - handyman  - admin
     handbook    handbook    handbook    handbook
   - multi-     - guided   - guided    - sop-pack
     property    tours      tours
     handbook
```

### KB Update Matrix

| Feature Area | Documents to Update | Chatbot Intents to Update |
|--------------|--------------------|-----------------------------|
| **Login/Auth** | homeowner-handbook, provider-handbook, handyman-handbook, admin-handbook, master-user-guide | auth_login, auth_password_reset, auth_signup |
| **Booking Flow** | homeowner-handbook, provider-handbook, sop-pack, guided-tours | booking_new, booking_status, booking_cancel, booking_reschedule |
| **Payments** | homeowner-handbook, provider-handbook, admin-handbook, sop-pack | payment_methods, payment_failed, refund_request, payout_status |
| **Property Setup** | homeowner-handbook, multi-property-handbook, guided-tours | property_add, property_systems, property_access |
| **Messaging** | homeowner-handbook, provider-handbook, handyman-handbook | message_send, message_provider, message_support |
| **AI Features** | homeowner-handbook, provider-handbook, master-user-guide | ai_photo_analysis, ai_estimate_draft, ai_maintenance_coach |
| **Pricing** | homeowner-handbook, provider-handbook, master-user-guide, site.ts | pricing_homeowner, pricing_provider, pricing_fees |
| **Notifications** | homeowner-handbook, provider-handbook, admin-handbook | notifications_settings, notifications_missing |
| **Admin Config** | admin-handbook, sop-pack | admin_config, admin_users, admin_disputes |
| **Errors** | error-center-playbook, sop-pack | error_code_lookup, [specific error intents] |

### KB Update Checklist

```markdown
## KB Update Checklist for [Feature Name]

### Pre-Release
- [ ] Identify affected user roles
- [ ] List all documents requiring updates
- [ ] List all chatbot intents requiring updates
- [ ] Draft documentation changes
- [ ] Draft chatbot KB chunk updates
- [ ] Review with product owner

### Documentation
- [ ] homeowner-handbook.md â€” Section: [___]
- [ ] multi-property-handbook.md â€” Section: [___]
- [ ] provider-handbook.md â€” Section: [___]
- [ ] handyman-handbook.md â€” Section: [___]
- [ ] admin-handbook.md â€” Section: [___]
- [ ] master-user-guide.md â€” Section: [___]
- [ ] sop-pack.md â€” SOP: [___]
- [ ] guided-tours.md â€” Tour: [___]
- [ ] media-quality-standards.md â€” Section: [___]
- [ ] error-center-playbook.md â€” Error: [___]
- [ ] CLAUDE.md â€” Section: [___]

### Chatbot KB
- [ ] KB chunks updated (JSON)
- [ ] FAQ pairs updated (JSON)
- [ ] Intent map updated (YAML)
- [ ] Response templates updated
- [ ] Regression tests updated

### Sign-Off
- [ ] Documentation reviewed by: [___]
- [ ] KB chunks reviewed by: [___]
- [ ] Chatbot tested by: [___]
```

---

## Versioning Rules

### Handbook Versioning

Format: `MAJOR.MINOR.PATCH`

| Version Type | When to Increment | Example |
|--------------|-------------------|---------|
| **MAJOR** | Complete restructure, new handbook, breaking changes | 1.0 â†’ 2.0 |
| **MINOR** | New sections, significant feature documentation | 1.0 â†’ 1.1 |
| **PATCH** | Typo fixes, clarifications, small updates | 1.0 â†’ 1.0.1 |

**Versioning Cadence**:
- MAJOR: Quarterly or as needed
- MINOR: With each product release containing user-facing changes
- PATCH: As needed, batched weekly

**Version Header Format** (top of each handbook):
```markdown
> **Version**: 2.3.1
> **Last Updated**: 2025-12-24
> **Changelog**: [Link to changelog section]
```

### KB Dataset Versioning

Format: `KB-YYYY-MM-DD-VX`

Example: `KB-2025-12-24-V1`

| Component | Version Format | Example |
|-----------|----------------|---------|
| KB Chunks | `KB-CHUNKS-YYYY-MM-DD-VX` | KB-CHUNKS-2025-12-24-V1 |
| FAQ Pairs | `KB-FAQ-YYYY-MM-DD-VX` | KB-FAQ-2025-12-24-V1 |
| Intent Map | `KB-INTENTS-YYYY-MM-DD-VX` | KB-INTENTS-2025-12-24-V1 |
| Full Dataset | `KB-FULL-YYYY-MM-DD-VX` | KB-FULL-2025-12-24-V1 |

**KB Version Manifest**:
```json
{
  "kb_version": "KB-FULL-2025-12-24-V1",
  "components": {
    "chunks": "KB-CHUNKS-2025-12-24-V1",
    "faq": "KB-FAQ-2025-12-24-V1",
    "intents": "KB-INTENTS-2025-12-24-V1"
  },
  "product_version": "2.3.1",
  "created_at": "2025-12-24T10:00:00Z",
  "created_by": "product-ops",
  "change_summary": "Added AI Maintenance Coach documentation"
}
```

### Version Compatibility Matrix

| Product Version | Min KB Version | Min Handbook Version |
|-----------------|----------------|---------------------|
| 2.3.x | KB-FULL-2025-12-01-V1 | 2.3.0 |
| 2.2.x | KB-FULL-2025-11-15-V1 | 2.2.0 |
| 2.1.x | KB-FULL-2025-11-01-V1 | 2.1.0 |

---

## Doc Diff Checklist (Pre-Release)

### Automated Doc Diff Process

Run before every release to identify documentation gaps:

```bash
#!/bin/bash
# doc-diff-check.sh

# 1. Get changed files since last release
git diff --name-only $LAST_RELEASE_TAG HEAD > changed_files.txt

# 2. Check for code changes that need doc updates
echo "=== Code Changes Requiring Doc Review ==="
grep -E "src/app|src/components|src/lib" changed_files.txt

# 3. Check documentation files changed
echo "=== Documentation Changes ==="
grep -E "docs/|CLAUDE.md" changed_files.txt

# 4. Flag missing documentation
echo "=== Potential Doc Gaps ==="
# Logic to compare code changes vs doc changes
```

### Manual Doc Diff Checklist

```markdown
## Doc Diff Checklist â€” Release [X.Y.Z]

### 1. Code Change Review
- [ ] List all user-facing code changes
- [ ] Map each change to affected documentation
- [ ] Identify new features without documentation

### 2. UI/UX Changes
- [ ] Screenshot any new screens
- [ ] Update guided tours if navigation changed
- [ ] Update any referenced UI elements in handbooks

### 3. API Changes
- [ ] Document new endpoints
- [ ] Update changed endpoint parameters
- [ ] Mark deprecated endpoints
- [ ] Update error codes if new errors added

### 4. Pricing/Business Logic Changes
- [ ] Update site.ts
- [ ] Update handbook pricing sections
- [ ] Update chatbot pricing intents
- [ ] Update FAQ if pricing questions affected

### 5. Error Handling Changes
- [ ] Add new error codes to error-center-playbook.md
- [ ] Update error catalog JSON
- [ ] Update chatbot error intents

### 6. Configuration Changes
- [ ] Update CLAUDE.md with new config options
- [ ] Update admin-handbook if admin config changed
- [ ] Document environment variables

### 7. Cross-Reference Check
- [ ] All internal links still valid
- [ ] No broken references to removed features
- [ ] Version numbers updated in headers

### 8. Final Review
- [ ] Technical accuracy verified
- [ ] Spelling/grammar checked
- [ ] Consistent terminology used
- [ ] Screenshots are current
```

### Doc Diff Report Template

```markdown
# Doc Diff Report â€” Release [X.Y.Z]

**Generated**: [Date]
**Reviewer**: [Name]

## Summary

| Category | Count |
|----------|-------|
| Code files changed | [X] |
| Docs needing update | [X] |
| Docs updated | [X] |
| Doc gaps identified | [X] |

## Detailed Findings

### Documentation Gaps

| Code Change | Missing Doc | Priority | Owner |
|-------------|-------------|----------|-------|
| [File:Line] | [Description] | [High/Med/Low] | [Name] |

### Documentation Updated

| Document | Sections Changed | Reviewer |
|----------|------------------|----------|
| [handbook.md] | [Sections] | [Name] |

### No Documentation Required

| Code Change | Reason |
|-------------|--------|
| [File] | [Internal only / No user impact] |

## Sign-Off

- [ ] All gaps addressed or ticketed
- [ ] Reviewer: [Name] â€” [Date]
```

---

## Chatbot Regression Checklist

### Top 50 Queries to Re-Test After Each Release

These queries cover the most common user interactions and should be tested after every KB update:

#### Authentication (5 queries)
| # | Test Query | Expected Intent | Expected Response Contains |
|---|------------|-----------------|---------------------------|
| 1 | "How do I log in?" | auth_login | Login URL, email/password |
| 2 | "I forgot my password" | auth_password_reset | Reset link instructions |
| 3 | "My account is locked" | auth_locked | Wait time, support contact |
| 4 | "How do I sign up?" | auth_signup | Registration options |
| 5 | "I can't verify my email" | auth_verify | Check spam, resend option |

#### Booking & Services (10 queries)
| # | Test Query | Expected Intent | Expected Response Contains |
|---|------------|-----------------|---------------------------|
| 6 | "How do I request service?" | booking_new | Step-by-step process |
| 7 | "Where's my provider?" | booking_status | Status check instructions |
| 8 | "Cancel my appointment" | booking_cancel | Cancellation policy, steps |
| 9 | "Reschedule my booking" | booking_reschedule | How to reschedule |
| 10 | "No providers in my area" | booking_no_providers | Waitlist, alternatives |
| 11 | "How long until someone arrives?" | booking_eta | ETA explanation |
| 12 | "What services do you offer?" | services_list | Service categories |
| 13 | "I need emergency service" | booking_emergency | Emergency routing |
| 14 | "Get me an estimate" | booking_estimate | Estimate process |
| 15 | "The estimate is too high" | booking_estimate_dispute | Negotiation options |

#### Payments & Billing (10 queries)
| # | Test Query | Expected Intent | Expected Response Contains |
|---|------------|-----------------|---------------------------|
| 16 | "How much does it cost?" | pricing_general | Pricing tiers, fees |
| 17 | "My card was declined" | payment_declined | RU-PAY-001, troubleshooting |
| 18 | "I want a refund" | refund_request | Refund policy, process |
| 19 | "Where's my payout?" | payout_status | 72h window, status check |
| 20 | "What's the diagnostic fee?" | pricing_diagnostic | Fee amounts, credit info |
| 21 | "Change my payment method" | payment_update | How to update card |
| 22 | "I was charged twice" | payment_duplicate | Contact support |
| 23 | "How do I upgrade my plan?" | billing_upgrade | Upgrade path |
| 24 | "Cancel my subscription" | billing_cancel | Cancellation process |
| 25 | "What are the fees?" | pricing_fees | Platform fees breakdown |

#### Property & Setup (8 queries)
| # | Test Query | Expected Intent | Expected Response Contains |
|---|------------|-----------------|---------------------------|
| 26 | "Add a new property" | property_add | Add property steps |
| 27 | "My address isn't found" | property_address_error | Manual entry option |
| 28 | "Add my HVAC system" | property_systems | System setup |
| 29 | "Share property access" | property_access | Access roles |
| 30 | "How many properties can I add?" | property_limits | 2 free, upgrade info |
| 31 | "Delete a property" | property_remove | Removal steps |
| 32 | "Upload a document" | property_documents | Binder upload |
| 33 | "Set up maintenance reminders" | property_maintenance | Calendar setup |

#### Provider-Specific (7 queries)
| # | Test Query | Expected Intent | Expected Response Contains |
|---|------------|-----------------|---------------------------|
| 34 | "How do I become a provider?" | provider_signup | Signup process |
| 35 | "Set my availability" | provider_availability | Calendar settings |
| 36 | "Accept a job" | provider_accept_job | Accept flow |
| 37 | "Submit an estimate" | provider_estimate | Estimate creation |
| 38 | "Complete a job" | provider_complete | Completion checklist |
| 39 | "Get verified" | provider_verification | Verification requirements |
| 40 | "What's my rating?" | provider_rating | Where to view rating |

#### Support & Errors (8 queries)
| # | Test Query | Expected Intent | Expected Response Contains |
|---|------------|-----------------|---------------------------|
| 41 | "Talk to a human" | support_human | Escalation options |
| 42 | "I got error RU-AUTH-001" | error_code_lookup | Error explanation, fix |
| 43 | "Something went wrong" | error_general | Troubleshooting steps |
| 44 | "Report a problem" | support_report | How to report |
| 45 | "File a dispute" | dispute_file | Dispute process |
| 46 | "The provider didn't show up" | sop_no_show | No-show policy |
| 47 | "Bad service quality" | dispute_quality | Quality complaint process |
| 48 | "Contact support" | support_contact | Contact methods |

#### AI Features (2 queries)
| # | Test Query | Expected Intent | Expected Response Contains |
|---|------------|-----------------|---------------------------|
| 49 | "How does AI photo analysis work?" | ai_photo_analysis | AI feature explanation |
| 50 | "What is Maintenance Coach?" | ai_maintenance_coach | Feature description |

### Regression Test Process

```markdown
## Chatbot Regression Test â€” Release [X.Y.Z]

**Tester**: [Name]
**Date**: [Date]
**KB Version**: [KB-FULL-YYYY-MM-DD-VX]

### Test Results

| # | Query | Expected | Actual | Status |
|---|-------|----------|--------|--------|
| 1 | "How do I log in?" | auth_login | [___] | â˜ Pass â˜ Fail |
| 2 | "I forgot my password" | auth_password_reset | [___] | â˜ Pass â˜ Fail |
| ... | ... | ... | ... | ... |

### Summary

- **Total Tests**: 50
- **Passed**: [X]
- **Failed**: [X]
- **Pass Rate**: [X]%

### Failed Tests Detail

| # | Query | Expected | Actual | Issue | Fix |
|---|-------|----------|--------|-------|-----|
| [#] | [Query] | [Expected] | [Actual] | [Issue] | [Fix] |

### Sign-Off

- [ ] All failures addressed
- [ ] Regression approved by: [Name]
- [ ] Ready for production: â˜ Yes â˜ No
```

---

## Sample Release Notes

### Release 2.3.0 â€” 2025-12-20

**Release Type**: Minor
**Environment**: Production
**Deployment Time**: 14:00 UTC

---

#### Summary

This release introduces AI-powered photo analysis for service requests and updates the homeowner booking flow with smarter intake questions. Providers now receive clearer job briefs generated by AI.

---

#### Added

- **AI Photo Analysis**: Automatically analyze uploaded photos to identify issues and suggest service categories
  - *Affects*: Homeowner
  - *Docs*: homeowner-handbook.md (AI Features section)
  - *KB Update*: Yes â€” ai_photo_analysis, intake_classify

- **AI Provider Briefs**: Providers receive AI-generated job summaries with key details highlighted
  - *Affects*: Provider
  - *Docs*: provider-handbook.md (Job Details section)
  - *KB Update*: Yes â€” provider_job_brief

#### Changed

- **Service Request Intake**: Updated flow with AI-suggested follow-up questions based on issue type
  - *Before*: Static list of questions
  - *After*: Dynamic questions based on photo analysis and category
  - *Migration*: No action required

#### Fixed

- **RU-AUTH-004**: Session timeout now properly refreshes when user is active
  - *Error Code*: RU-AUTH-004
  - *Reported By*: Support (12 tickets)

- **RU-BOOK-002**: Time slot race condition when two users book simultaneously
  - *Error Code*: RU-BOOK-002
  - *Reported By*: Engineering

#### Documentation Updates

| Document | Section | Change Type |
|----------|---------|-------------|
| homeowner-handbook.md | AI Features | Added |
| provider-handbook.md | Job Details | Updated |
| master-user-guide.md | AI Features | Added |
| error-center-playbook.md | RU-AUTH-004 | Updated |

---

### Release 2.2.3 â€” 2025-12-15

**Release Type**: Patch
**Environment**: Production
**Deployment Time**: 09:00 UTC

---

#### Summary

Hotfix release addressing payment processing issues and notification delivery failures reported over the weekend.

---

#### Fixed

- **RU-PAY-002**: Payment processing timeout during high traffic
  - *Error Code*: RU-PAY-002
  - *Reported By*: Automated monitoring

- **RU-NOTIF-001**: Email delivery failures for Gmail addresses
  - *Error Code*: RU-NOTIF-001
  - *Reported By*: Support (8 tickets)

- **RU-UPLD-001**: Photo upload failing on slow connections
  - *Error Code*: RU-UPLD-001
  - *Reported By*: User feedback

#### Known Issues

| Issue | Workaround | Fix ETA |
|-------|------------|---------|
| Large video uploads (>50MB) may timeout | Compress video before upload | 2.2.4 |

---

### Release 2.2.2 â€” 2025-12-10

**Release Type**: Patch
**Environment**: Production
**Deployment Time**: 11:00 UTC

---

#### Summary

Bug fixes for provider onboarding and property system setup.

---

#### Fixed

- **RU-ONBD-002**: Business phone validation rejecting valid formats
  - *Error Code*: RU-ONBD-002
  - *Reported By*: Support

- **RU-PROP-003**: HVAC system not saving when brand field is empty
  - *Error Code*: RU-PROP-003
  - *Reported By*: User feedback

---

### Release 2.2.1 â€” 2025-12-05

**Release Type**: Patch
**Environment**: Production
**Deployment Time**: 16:00 UTC

---

#### Summary

Security patch addressing session handling vulnerability.

---

#### Security

- **Session Fixation Fix**: Resolved potential session fixation vulnerability in OAuth flow
  - *Severity*: Medium
  - *Action Required*: None â€” automatically applied

---

### Release 2.2.0 â€” 2025-12-01

**Release Type**: Minor
**Environment**: Production
**Deployment Time**: 10:00 UTC

---

#### Summary

Major update to the payment flow with new platform fees structure and change order system for providers.

---

#### Added

- **Platform Fees**: New homeowner platform fee structure ($6/$12/$25 based on job size)
  - *Affects*: Homeowner
  - *Docs*: homeowner-handbook.md (Pricing section), master-user-guide.md
  - *KB Update*: Yes â€” pricing_fees, pricing_homeowner

- **Change Order System**: Providers can now submit change orders for scope changes
  - *Affects*: Provider, Homeowner
  - *Docs*: provider-handbook.md, sop-pack.md
  - *KB Update*: Yes â€” change_order_submit, change_order_approve

- **Instant Payout Option**: Verified providers can opt for instant payouts (+1% fee)
  - *Affects*: Provider
  - *Docs*: provider-handbook.md (Money section)
  - *KB Update*: Yes â€” payout_instant

#### Changed

- **Diagnostic Fee Rules**: Diagnostic fees now automatically credited toward final invoice
  - *Before*: Manual credit by provider
  - *After*: Automatic credit
  - *Migration*: No action required

- **Provider Commission**: Updated to 8% with $3.50 minimum
  - *Before*: 10% flat
  - *After*: 8% with minimum
  - *Migration*: Automatic for new jobs

#### Deprecated

- **Legacy Invoice PDF**: Old PDF template being phased out
  - *Removal Date*: 2026-02-01
  - *Alternative*: New invoice format with QR code

#### Documentation Updates

| Document | Section | Change Type |
|----------|---------|-------------|
| homeowner-handbook.md | Pricing | Updated |
| provider-handbook.md | Estimates, Money | Updated |
| sop-pack.md | Change Orders | Added |
| CLAUDE.md | Payment Flow | Updated |

---

### Release 2.1.5 â€” 2025-11-25

**Release Type**: Patch
**Environment**: Production
**Deployment Time**: 08:00 UTC

---

#### Summary

Performance improvements for property dashboard and calendar views.

---

#### Changed

- **Property Dashboard**: Reduced load time by 40% with lazy loading
  - *Before*: All systems loaded on page load
  - *After*: Systems load on scroll
  - *Migration*: None

- **Calendar View**: Improved rendering performance for users with many maintenance tasks
  - *Before*: Slow with 50+ tasks
  - *After*: Smooth with 200+ tasks
  - *Migration*: None

---

### Release 2.1.4 â€” 2025-11-20

**Release Type**: Patch
**Environment**: Production
**Deployment Time**: 13:00 UTC

---

#### Summary

Fixes for admin dashboard and dispute resolution workflow.

---

#### Fixed

- **RU-ADMIN-002**: Admin config save failing for nested objects
  - *Error Code*: RU-ADMIN-002
  - *Reported By*: Admin team

- **Dispute Timeline**: Dispute window countdown showing incorrect time
  - *Error Code*: N/A
  - *Reported By*: Support

---

### Release 2.1.3 â€” 2025-11-15

**Release Type**: Patch
**Environment**: Production
**Deployment Time**: 10:00 UTC

---

#### Summary

Mobile responsive fixes and accessibility improvements.

---

#### Fixed

- **Mobile Navigation**: Bottom nav bar overlapping content on small screens
  - *Error Code*: N/A
  - *Reported By*: User feedback

- **Accessibility**: Added missing ARIA labels to booking form
  - *Error Code*: N/A
  - *Reported By*: Accessibility audit

---

### Release 2.1.2 â€” 2025-11-10

**Release Type**: Patch
**Environment**: Production
**Deployment Time**: 15:00 UTC

---

#### Summary

Chatbot improvements and error handling updates.

---

#### Added

- **Error Code Lookup**: Chatbot now recognizes RU-XXX-XXX error codes and provides solutions
  - *Affects*: All
  - *Docs*: error-center-playbook.md
  - *KB Update*: Yes â€” error_code_lookup

#### Fixed

- **RU-MSG-001**: Message send retry not working after network error
  - *Error Code*: RU-MSG-001
  - *Reported By*: Engineering

---

### Release 2.1.1 â€” 2025-11-05

**Release Type**: Patch
**Environment**: Production
**Deployment Time**: 09:00 UTC

---

#### Summary

[TBD â€” Placeholder for actual release content]

---

#### Added

- **[TBD Feature]**: [Description]
  - *Affects*: [TBD]
  - *Docs*: [TBD]
  - *KB Update*: [TBD]

#### Fixed

- **[TBD Bug]**: [Description]
  - *Error Code*: [TBD]
  - *Reported By*: [TBD]

---

## JSON Automation Objects

### Release Notes Schema

```json
{
  "release_notes_schema": {
    "version": "1.0",
    "schema": {
      "type": "object",
      "required": ["version", "date", "release_type", "summary", "changes"],
      "properties": {
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$"
        },
        "date": {
          "type": "string",
          "format": "date"
        },
        "release_type": {
          "type": "string",
          "enum": ["major", "minor", "patch", "hotfix"]
        },
        "environment": {
          "type": "string",
          "enum": ["production", "staging", "beta"]
        },
        "deployment_time": {
          "type": "string",
          "pattern": "^\\d{2}:\\d{2} UTC$"
        },
        "summary": {
          "type": "string",
          "maxLength": 500
        },
        "changes": {
          "type": "object",
          "properties": {
            "added": { "type": "array", "items": { "$ref": "#/definitions/change_entry" } },
            "changed": { "type": "array", "items": { "$ref": "#/definitions/change_entry" } },
            "fixed": { "type": "array", "items": { "$ref": "#/definitions/fix_entry" } },
            "deprecated": { "type": "array", "items": { "$ref": "#/definitions/deprecation_entry" } },
            "removed": { "type": "array", "items": { "$ref": "#/definitions/removal_entry" } },
            "security": { "type": "array", "items": { "$ref": "#/definitions/security_entry" } }
          }
        },
        "documentation_updates": {
          "type": "array",
          "items": { "$ref": "#/definitions/doc_update" }
        },
        "chatbot_updates": {
          "type": "array",
          "items": { "$ref": "#/definitions/kb_update" }
        },
        "known_issues": {
          "type": "array",
          "items": { "$ref": "#/definitions/known_issue" }
        },
        "rollback": {
          "type": "object",
          "properties": {
            "command": { "type": "string" },
            "window_hours": { "type": "integer" },
            "criteria": { "type": "string" }
          }
        }
      }
    },
    "definitions": {
      "change_entry": {
        "type": "object",
        "required": ["name", "description", "affects"],
        "properties": {
          "name": { "type": "string" },
          "description": { "type": "string" },
          "affects": {
            "type": "array",
            "items": { "type": "string", "enum": ["homeowner", "provider", "handyman", "admin", "all"] }
          },
          "docs": { "type": "string" },
          "kb_update": { "type": "boolean" },
          "kb_intents": { "type": "array", "items": { "type": "string" } }
        }
      },
      "fix_entry": {
        "type": "object",
        "required": ["description"],
        "properties": {
          "error_code": { "type": "string", "pattern": "^RU-[A-Z]+-\\d{3}$" },
          "description": { "type": "string" },
          "reported_by": { "type": "string", "enum": ["user", "support", "engineering", "automated"] }
        }
      },
      "deprecation_entry": {
        "type": "object",
        "required": ["name", "removal_date", "alternative"],
        "properties": {
          "name": { "type": "string" },
          "removal_date": { "type": "string", "format": "date" },
          "alternative": { "type": "string" }
        }
      },
      "removal_entry": {
        "type": "object",
        "required": ["name", "reason"],
        "properties": {
          "name": { "type": "string" },
          "reason": { "type": "string" },
          "data_impact": { "type": "string" }
        }
      },
      "security_entry": {
        "type": "object",
        "required": ["description", "severity"],
        "properties": {
          "cve_id": { "type": "string" },
          "description": { "type": "string" },
          "severity": { "type": "string", "enum": ["critical", "high", "medium", "low"] },
          "action_required": { "type": "string" }
        }
      },
      "doc_update": {
        "type": "object",
        "required": ["document", "section", "change_type"],
        "properties": {
          "document": { "type": "string" },
          "section": { "type": "string" },
          "change_type": { "type": "string", "enum": ["added", "updated", "removed"] }
        }
      },
      "kb_update": {
        "type": "object",
        "required": ["intent_id", "change"],
        "properties": {
          "intent_id": { "type": "string" },
          "change": { "type": "string", "enum": ["added", "modified", "removed"] },
          "test_status": { "type": "string", "enum": ["pass", "fail", "pending"] }
        }
      },
      "known_issue": {
        "type": "object",
        "required": ["issue", "workaround"],
        "properties": {
          "issue": { "type": "string" },
          "workaround": { "type": "string" },
          "fix_eta": { "type": "string" }
        }
      }
    }
  }
}
```

### Doc Diff Checklist JSON

```json
{
  "doc_diff_checklist": {
    "version": "1.0",
    "checklist_id": "DOC-DIFF-[RELEASE_VERSION]",
    "release_version": "[X.Y.Z]",
    "created_at": "[ISO_DATE]",
    "status": "pending",
    "sections": [
      {
        "id": "code_review",
        "name": "Code Change Review",
        "items": [
          {
            "id": "code_1",
            "task": "List all user-facing code changes",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "code_2",
            "task": "Map each change to affected documentation",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "code_3",
            "task": "Identify new features without documentation",
            "status": "pending",
            "assignee": null,
            "notes": ""
          }
        ]
      },
      {
        "id": "ui_ux",
        "name": "UI/UX Changes",
        "items": [
          {
            "id": "ui_1",
            "task": "Screenshot any new screens",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "ui_2",
            "task": "Update guided tours if navigation changed",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "ui_3",
            "task": "Update any referenced UI elements in handbooks",
            "status": "pending",
            "assignee": null,
            "notes": ""
          }
        ]
      },
      {
        "id": "api",
        "name": "API Changes",
        "items": [
          {
            "id": "api_1",
            "task": "Document new endpoints",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "api_2",
            "task": "Update changed endpoint parameters",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "api_3",
            "task": "Mark deprecated endpoints",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "api_4",
            "task": "Update error codes if new errors added",
            "status": "pending",
            "assignee": null,
            "notes": ""
          }
        ]
      },
      {
        "id": "pricing",
        "name": "Pricing/Business Logic Changes",
        "items": [
          {
            "id": "pricing_1",
            "task": "Update site.ts",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "pricing_2",
            "task": "Update handbook pricing sections",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "pricing_3",
            "task": "Update chatbot pricing intents",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "pricing_4",
            "task": "Update FAQ if pricing questions affected",
            "status": "pending",
            "assignee": null,
            "notes": ""
          }
        ]
      },
      {
        "id": "errors",
        "name": "Error Handling Changes",
        "items": [
          {
            "id": "errors_1",
            "task": "Add new error codes to error-center-playbook.md",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "errors_2",
            "task": "Update error catalog JSON",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "errors_3",
            "task": "Update chatbot error intents",
            "status": "pending",
            "assignee": null,
            "notes": ""
          }
        ]
      },
      {
        "id": "config",
        "name": "Configuration Changes",
        "items": [
          {
            "id": "config_1",
            "task": "Update CLAUDE.md with new config options",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "config_2",
            "task": "Update admin-handbook if admin config changed",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "config_3",
            "task": "Document environment variables",
            "status": "pending",
            "assignee": null,
            "notes": ""
          }
        ]
      },
      {
        "id": "cross_ref",
        "name": "Cross-Reference Check",
        "items": [
          {
            "id": "cross_1",
            "task": "All internal links still valid",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "cross_2",
            "task": "No broken references to removed features",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "cross_3",
            "task": "Version numbers updated in headers",
            "status": "pending",
            "assignee": null,
            "notes": ""
          }
        ]
      },
      {
        "id": "final",
        "name": "Final Review",
        "items": [
          {
            "id": "final_1",
            "task": "Technical accuracy verified",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "final_2",
            "task": "Spelling/grammar checked",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "final_3",
            "task": "Consistent terminology used",
            "status": "pending",
            "assignee": null,
            "notes": ""
          },
          {
            "id": "final_4",
            "task": "Screenshots are current",
            "status": "pending",
            "assignee": null,
            "notes": ""
          }
        ]
      }
    ],
    "sign_off": {
      "reviewer": null,
      "reviewed_at": null,
      "approved": false
    }
  }
}
```

### Chatbot Regression Checklist JSON

```json
{
  "chatbot_regression_checklist": {
    "version": "1.0",
    "checklist_id": "CB-REGRESSION-[RELEASE_VERSION]",
    "release_version": "[X.Y.Z]",
    "kb_version": "[KB-FULL-YYYY-MM-DD-VX]",
    "created_at": "[ISO_DATE]",
    "tester": null,
    "status": "pending",
    "summary": {
      "total_tests": 50,
      "passed": 0,
      "failed": 0,
      "pending": 50,
      "pass_rate": 0
    },
    "tests": [
      {
        "id": 1,
        "category": "authentication",
        "query": "How do I log in?",
        "expected_intent": "auth_login",
        "expected_contains": ["login", "email", "password"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 2,
        "category": "authentication",
        "query": "I forgot my password",
        "expected_intent": "auth_password_reset",
        "expected_contains": ["reset", "email", "link"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 3,
        "category": "authentication",
        "query": "My account is locked",
        "expected_intent": "auth_locked",
        "expected_contains": ["locked", "wait", "support"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 4,
        "category": "authentication",
        "query": "How do I sign up?",
        "expected_intent": "auth_signup",
        "expected_contains": ["register", "account", "create"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 5,
        "category": "authentication",
        "query": "I can't verify my email",
        "expected_intent": "auth_verify",
        "expected_contains": ["verify", "spam", "resend"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 6,
        "category": "booking",
        "query": "How do I request service?",
        "expected_intent": "booking_new",
        "expected_contains": ["request", "service", "book"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 7,
        "category": "booking",
        "query": "Where's my provider?",
        "expected_intent": "booking_status",
        "expected_contains": ["status", "provider", "appointment"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 8,
        "category": "booking",
        "query": "Cancel my appointment",
        "expected_intent": "booking_cancel",
        "expected_contains": ["cancel", "policy", "refund"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 9,
        "category": "booking",
        "query": "Reschedule my booking",
        "expected_intent": "booking_reschedule",
        "expected_contains": ["reschedule", "change", "time"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 10,
        "category": "booking",
        "query": "No providers in my area",
        "expected_intent": "booking_no_providers",
        "expected_contains": ["area", "available", "waitlist"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 11,
        "category": "booking",
        "query": "How long until someone arrives?",
        "expected_intent": "booking_eta",
        "expected_contains": ["arrival", "time", "window"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 12,
        "category": "booking",
        "query": "What services do you offer?",
        "expected_intent": "services_list",
        "expected_contains": ["services", "plumbing", "hvac", "electrical"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 13,
        "category": "booking",
        "query": "I need emergency service",
        "expected_intent": "booking_emergency",
        "expected_contains": ["emergency", "urgent", "911"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 14,
        "category": "booking",
        "query": "Get me an estimate",
        "expected_intent": "booking_estimate",
        "expected_contains": ["estimate", "quote", "cost"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 15,
        "category": "booking",
        "query": "The estimate is too high",
        "expected_intent": "booking_estimate_dispute",
        "expected_contains": ["estimate", "price", "negotiate"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 16,
        "category": "payments",
        "query": "How much does it cost?",
        "expected_intent": "pricing_general",
        "expected_contains": ["pricing", "cost", "fee"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 17,
        "category": "payments",
        "query": "My card was declined",
        "expected_intent": "payment_declined",
        "expected_contains": ["declined", "card", "RU-PAY-001"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 18,
        "category": "payments",
        "query": "I want a refund",
        "expected_intent": "refund_request",
        "expected_contains": ["refund", "policy", "days"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 19,
        "category": "payments",
        "query": "Where's my payout?",
        "expected_intent": "payout_status",
        "expected_contains": ["payout", "72", "hours"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 20,
        "category": "payments",
        "query": "What's the diagnostic fee?",
        "expected_intent": "pricing_diagnostic",
        "expected_contains": ["diagnostic", "fee", "credit"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 21,
        "category": "payments",
        "query": "Change my payment method",
        "expected_intent": "payment_update",
        "expected_contains": ["payment", "card", "update"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 22,
        "category": "payments",
        "query": "I was charged twice",
        "expected_intent": "payment_duplicate",
        "expected_contains": ["duplicate", "charged", "support"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 23,
        "category": "payments",
        "query": "How do I upgrade my plan?",
        "expected_intent": "billing_upgrade",
        "expected_contains": ["upgrade", "plan", "billing"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 24,
        "category": "payments",
        "query": "Cancel my subscription",
        "expected_intent": "billing_cancel",
        "expected_contains": ["cancel", "subscription", "billing"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 25,
        "category": "payments",
        "query": "What are the fees?",
        "expected_intent": "pricing_fees",
        "expected_contains": ["fee", "platform", "commission"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 26,
        "category": "property",
        "query": "Add a new property",
        "expected_intent": "property_add",
        "expected_contains": ["property", "add", "address"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 27,
        "category": "property",
        "query": "My address isn't found",
        "expected_intent": "property_address_error",
        "expected_contains": ["address", "manual", "RU-PROP-001"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 28,
        "category": "property",
        "query": "Add my HVAC system",
        "expected_intent": "property_systems",
        "expected_contains": ["system", "HVAC", "add"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 29,
        "category": "property",
        "query": "Share property access",
        "expected_intent": "property_access",
        "expected_contains": ["access", "share", "invite"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 30,
        "category": "property",
        "query": "How many properties can I add?",
        "expected_intent": "property_limits",
        "expected_contains": ["limit", "free", "upgrade"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 31,
        "category": "property",
        "query": "Delete a property",
        "expected_intent": "property_remove",
        "expected_contains": ["delete", "remove", "property"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 32,
        "category": "property",
        "query": "Upload a document",
        "expected_intent": "property_documents",
        "expected_contains": ["upload", "document", "binder"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 33,
        "category": "property",
        "query": "Set up maintenance reminders",
        "expected_intent": "property_maintenance",
        "expected_contains": ["maintenance", "reminder", "calendar"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 34,
        "category": "provider",
        "query": "How do I become a provider?",
        "expected_intent": "provider_signup",
        "expected_contains": ["provider", "signup", "register"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 35,
        "category": "provider",
        "query": "Set my availability",
        "expected_intent": "provider_availability",
        "expected_contains": ["availability", "calendar", "schedule"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 36,
        "category": "provider",
        "query": "Accept a job",
        "expected_intent": "provider_accept_job",
        "expected_contains": ["accept", "job", "booking"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 37,
        "category": "provider",
        "query": "Submit an estimate",
        "expected_intent": "provider_estimate",
        "expected_contains": ["estimate", "submit", "quote"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 38,
        "category": "provider",
        "query": "Complete a job",
        "expected_intent": "provider_complete",
        "expected_contains": ["complete", "finish", "photos"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 39,
        "category": "provider",
        "query": "Get verified",
        "expected_intent": "provider_verification",
        "expected_contains": ["verified", "verification", "badge"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 40,
        "category": "provider",
        "query": "What's my rating?",
        "expected_intent": "provider_rating",
        "expected_contains": ["rating", "reviews", "score"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 41,
        "category": "support",
        "query": "Talk to a human",
        "expected_intent": "support_human",
        "expected_contains": ["support", "agent", "help"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 42,
        "category": "support",
        "query": "I got error RU-AUTH-001",
        "expected_intent": "error_code_lookup",
        "expected_contains": ["email", "format", "RU-AUTH-001"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 43,
        "category": "support",
        "query": "Something went wrong",
        "expected_intent": "error_general",
        "expected_contains": ["error", "try", "support"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 44,
        "category": "support",
        "query": "Report a problem",
        "expected_intent": "support_report",
        "expected_contains": ["report", "problem", "issue"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 45,
        "category": "support",
        "query": "File a dispute",
        "expected_intent": "dispute_file",
        "expected_contains": ["dispute", "file", "72"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 46,
        "category": "support",
        "query": "The provider didn't show up",
        "expected_intent": "sop_no_show",
        "expected_contains": ["no-show", "refund", "reschedule"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 47,
        "category": "support",
        "query": "Bad service quality",
        "expected_intent": "dispute_quality",
        "expected_contains": ["quality", "complaint", "dispute"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 48,
        "category": "support",
        "query": "Contact support",
        "expected_intent": "support_contact",
        "expected_contains": ["support", "contact", "help"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 49,
        "category": "ai_features",
        "query": "How does AI photo analysis work?",
        "expected_intent": "ai_photo_analysis",
        "expected_contains": ["AI", "photo", "analyze"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      },
      {
        "id": 50,
        "category": "ai_features",
        "query": "What is Maintenance Coach?",
        "expected_intent": "ai_maintenance_coach",
        "expected_contains": ["maintenance", "coach", "recommendations"],
        "actual_intent": null,
        "actual_response": null,
        "status": "pending",
        "notes": ""
      }
    ],
    "failures": [],
    "sign_off": {
      "tester": null,
      "tested_at": null,
      "approved": false,
      "approved_by": null,
      "approved_at": null
    }
  }
}
```

### KB Update Workflow JSON

```json
{
  "kb_update_workflow": {
    "version": "1.0",
    "feature_areas": [
      {
        "area": "login_auth",
        "name": "Login/Authentication",
        "documents": [
          "homeowner-handbook.md",
          "provider-handbook.md",
          "handyman-handbook.md",
          "admin-handbook.md",
          "master-user-guide.md"
        ],
        "chatbot_intents": [
          "auth_login",
          "auth_password_reset",
          "auth_signup",
          "auth_locked",
          "auth_verify"
        ],
        "error_codes": [
          "RU-AUTH-001",
          "RU-AUTH-002",
          "RU-AUTH-003",
          "RU-AUTH-004",
          "RU-AUTH-005",
          "RU-AUTH-006"
        ]
      },
      {
        "area": "booking_flow",
        "name": "Booking Flow",
        "documents": [
          "homeowner-handbook.md",
          "provider-handbook.md",
          "sop-pack.md",
          "guided-tours.md"
        ],
        "chatbot_intents": [
          "booking_new",
          "booking_status",
          "booking_cancel",
          "booking_reschedule",
          "booking_no_providers",
          "booking_eta",
          "booking_estimate",
          "booking_emergency"
        ],
        "error_codes": [
          "RU-BOOK-001",
          "RU-BOOK-002",
          "RU-BOOK-003",
          "RU-BOOK-004",
          "RU-BOOK-005",
          "RU-BOOK-006",
          "RU-BOOK-007"
        ]
      },
      {
        "area": "payments",
        "name": "Payments",
        "documents": [
          "homeowner-handbook.md",
          "provider-handbook.md",
          "admin-handbook.md",
          "sop-pack.md"
        ],
        "chatbot_intents": [
          "payment_methods",
          "payment_declined",
          "payment_duplicate",
          "refund_request",
          "payout_status",
          "pricing_general",
          "pricing_fees",
          "pricing_diagnostic",
          "billing_upgrade",
          "billing_cancel"
        ],
        "error_codes": [
          "RU-PAY-001",
          "RU-PAY-002",
          "RU-PAY-003",
          "RU-PAY-004",
          "RU-PAY-005",
          "RU-PAY-006"
        ]
      },
      {
        "area": "property_setup",
        "name": "Property Setup",
        "documents": [
          "homeowner-handbook.md",
          "multi-property-handbook.md",
          "guided-tours.md"
        ],
        "chatbot_intents": [
          "property_add",
          "property_address_error",
          "property_systems",
          "property_access",
          "property_limits",
          "property_remove",
          "property_documents",
          "property_maintenance"
        ],
        "error_codes": [
          "RU-PROP-001",
          "RU-PROP-002",
          "RU-PROP-003",
          "RU-PROP-004",
          "RU-PROP-005"
        ]
      },
      {
        "area": "messaging",
        "name": "Messaging",
        "documents": [
          "homeowner-handbook.md",
          "provider-handbook.md",
          "handyman-handbook.md"
        ],
        "chatbot_intents": [
          "message_send",
          "message_provider",
          "message_support"
        ],
        "error_codes": [
          "RU-MSG-001",
          "RU-MSG-002",
          "RU-MSG-003",
          "RU-MSG-004"
        ]
      },
      {
        "area": "ai_features",
        "name": "AI Features",
        "documents": [
          "homeowner-handbook.md",
          "provider-handbook.md",
          "master-user-guide.md"
        ],
        "chatbot_intents": [
          "ai_photo_analysis",
          "ai_estimate_draft",
          "ai_maintenance_coach",
          "ai_message_draft"
        ],
        "error_codes": [
          "RU-INTG-003"
        ]
      },
      {
        "area": "pricing",
        "name": "Pricing",
        "documents": [
          "homeowner-handbook.md",
          "provider-handbook.md",
          "master-user-guide.md",
          "site.ts"
        ],
        "chatbot_intents": [
          "pricing_homeowner",
          "pricing_provider",
          "pricing_fees",
          "pricing_diagnostic"
        ],
        "error_codes": []
      },
      {
        "area": "notifications",
        "name": "Notifications",
        "documents": [
          "homeowner-handbook.md",
          "provider-handbook.md",
          "admin-handbook.md"
        ],
        "chatbot_intents": [
          "notifications_settings",
          "notifications_missing",
          "notifications_enable"
        ],
        "error_codes": [
          "RU-NOTIF-001",
          "RU-NOTIF-002",
          "RU-NOTIF-003",
          "RU-NOTIF-004"
        ]
      },
      {
        "area": "admin_config",
        "name": "Admin Configuration",
        "documents": [
          "admin-handbook.md",
          "sop-pack.md"
        ],
        "chatbot_intents": [
          "admin_config",
          "admin_users",
          "admin_disputes"
        ],
        "error_codes": [
          "RU-ADMIN-001",
          "RU-ADMIN-002",
          "RU-ADMIN-003",
          "RU-ADMIN-004"
        ]
      },
      {
        "area": "errors",
        "name": "Errors",
        "documents": [
          "error-center-playbook.md",
          "sop-pack.md"
        ],
        "chatbot_intents": [
          "error_code_lookup",
          "error_general",
          "support_report"
        ],
        "error_codes": ["*"]
      }
    ]
  }
}
```

### Sample Release Note JSON

```json
{
  "release_note": {
    "version": "2.3.0",
    "date": "2025-12-20",
    "release_type": "minor",
    "environment": "production",
    "deployment_time": "14:00 UTC",
    "summary": "This release introduces AI-powered photo analysis for service requests and updates the homeowner booking flow with smarter intake questions.",
    "changes": {
      "added": [
        {
          "name": "AI Photo Analysis",
          "description": "Automatically analyze uploaded photos to identify issues and suggest service categories",
          "affects": ["homeowner"],
          "docs": "homeowner-handbook.md",
          "kb_update": true,
          "kb_intents": ["ai_photo_analysis", "intake_classify"]
        },
        {
          "name": "AI Provider Briefs",
          "description": "Providers receive AI-generated job summaries with key details highlighted",
          "affects": ["provider"],
          "docs": "provider-handbook.md",
          "kb_update": true,
          "kb_intents": ["provider_job_brief"]
        }
      ],
      "changed": [
        {
          "name": "Service Request Intake",
          "description": "Updated flow with AI-suggested follow-up questions based on issue type",
          "affects": ["homeowner"],
          "before": "Static list of questions",
          "after": "Dynamic questions based on photo analysis and category",
          "migration_required": false
        }
      ],
      "fixed": [
        {
          "error_code": "RU-AUTH-004",
          "description": "Session timeout now properly refreshes when user is active",
          "reported_by": "support"
        },
        {
          "error_code": "RU-BOOK-002",
          "description": "Time slot race condition when two users book simultaneously",
          "reported_by": "engineering"
        }
      ],
      "deprecated": [],
      "removed": [],
      "security": []
    },
    "documentation_updates": [
      {
        "document": "homeowner-handbook.md",
        "section": "AI Features",
        "change_type": "added"
      },
      {
        "document": "provider-handbook.md",
        "section": "Job Details",
        "change_type": "updated"
      },
      {
        "document": "master-user-guide.md",
        "section": "AI Features",
        "change_type": "added"
      },
      {
        "document": "error-center-playbook.md",
        "section": "RU-AUTH-004",
        "change_type": "updated"
      }
    ],
    "chatbot_updates": [
      {
        "intent_id": "ai_photo_analysis",
        "change": "added",
        "test_status": "pass"
      },
      {
        "intent_id": "intake_classify",
        "change": "modified",
        "test_status": "pass"
      },
      {
        "intent_id": "provider_job_brief",
        "change": "added",
        "test_status": "pass"
      }
    ],
    "known_issues": [],
    "rollback": {
      "command": "./scripts/rollback.sh",
      "window_hours": 24,
      "criteria": "Error rate >5% or payment failures >1%"
    }
  }
}
```

---

## Appendix: Quick Reference

### Release Type Decision Tree

```
Is this a security fix?
â”œâ”€â”€ Yes â†’ Hotfix (immediate)
â””â”€â”€ No
    â”œâ”€â”€ Breaking changes?
    â”‚   â”œâ”€â”€ Yes â†’ Major release
    â”‚   â””â”€â”€ No
    â”‚       â”œâ”€â”€ New features?
    â”‚       â”‚   â”œâ”€â”€ Yes â†’ Minor release
    â”‚       â”‚   â””â”€â”€ No â†’ Patch release
```

### Document Update Priority

| Change Type | Doc Update Priority | KB Update Priority |
|-------------|--------------------|--------------------|
| New feature | High - Same release | High - Same release |
| UI change | High - Same release | Medium - 24h |
| Bug fix | Medium - 48h | Low - If affects KB |
| Performance | Low - Optional | None |
| Security | High - Immediate | Medium - If user-facing |

### Minimum Review Requirements

| Release Type | Reviewers Required | KB Test Required |
|--------------|-------------------|------------------|
| Major | 3 (Eng + PM + QA) | Full regression |
| Minor | 2 (Eng + PM) | Affected intents |
| Patch | 1 (Eng) | Affected intents |
| Hotfix | 1 (Eng on-call) | Critical paths only |

---

*End of Release Notes & Change Control System*
